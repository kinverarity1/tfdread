# tfdread

Python package to read data from TFD files used in geophysical logging.

I'm working from the incredibly helpful paper by 
[Liang and Zhang (2015)](https://www.researchgate.net/publication/301431667_Decoding_and_Conversion_of_TFD_Logging_Data_Format_Based_on_Java).

## Install 

```posh
> pip install git+https://github.com/kinverarity1/tfdread#egg=tfdread
```

## Usage

The API ***will*** change as development proceeds.

For now, the function ``tfdread.read_file(file_obj)`` returns a dictionary.

```python
>>> import tfdread
>>> with open('blahblah.tfd', 'rb') as f:
...     j = tfdread.read_file(f)
```

When using the included command line script, this will be dumped to JSON:

```posh
> tfdread blahblah.tfd
{
  "IndexA": {
    "i1": 10476
  },
  "IndexADate": {
    "date": "[(0, 2019), (1, 4), (2, 1), (3, 8), (4, 9), (5, 44), (6, 21), (7, 156), (8, 0), (9, 0), (10, 0), (11, 0)]"
  },
  "IndexB": {
    "i2": 12104
  },
  "IndexC": {
    "l": 277
  },
  "InfoA": {
    "contents": [
      "C:\\Logger\\Tools\\TOOLSTACK.descrU(\u0000\u0000; BEGINNING OF MERGED SUBS SECTIONS //////////////////////////////////",
      "",
      "[Description]",
      "ToolName = GO7-40-DEV-FTC",
      "DriverName = TOOLSTACK",
      "FamilyName = ",
      "Sub1 = Tool Top,GO7-40,,",
      "Sub2 = Misc,DEV,134607,MULTICH",
      "Sub3 = Fluid,FTC,6023,MULTICH",
      "",
      "[Default]",
      "TimeSamplingRate=500",
      "DepthSamplingRate=0.05",
      "",
      "[MultiCh]",
      "NbCh = 25",
      "ToolLength = 1.559",
      "",
      "[ToolId]]",
      "DEV = 21",
      "FTC = 25",
      "",
      "[DEV.ModuleId]",
      "SYSTEMSTATUS = 1",
      "APS544 = 3",
      "",
      "[FTC.ModuleId]",
      "SYSTEMSTATUS = 1",
      "FTC = 5",
      "TEMPERATURE = 2",
      "",
      "; GO7-40 channels ------------------------",
      "",
      "; DEV channels ------------------------",
      "",
      "[Ch1]",
      "Name=Time",
      "Producer=Tool.DEV.SYSTEMSTATUS",
      "ChShift=1.137",
      "Unit=sec",
      "Offset=0",
      "DataType=dword",
      "CalA=0.001",
      "CalB=0",
      "NumberFormat=%8.3f",
      "DisplayEnable=no",
      "Reference1=1",
      "Reference2=0",
      "CalDate=25/01/18 13:34",
      "",
      "[Ch2]",
      "Name=Temperature",
      "Producer=Tool.DEV.SYSTEMSTATUS",
      "ChShift=1.137",
      "Unit='C",
      "Offset=4",
      "DataType=word",
      "CalA=0.217226",
      "CalB=-61.11",
      "NumberFormat=%5.1f",
      "DisplayEnable=no",
      "DisplayedName=Temp",
      "Low=0",
      "High=70",
      "NbDecade=1",
      "Mode=Linear",
      "ReverseScale=no",
      "GridEnable=yes",
      "Grid=10",
      "Left=60",
      "Right=80",
      "PenStyle=solid",
      "PenWidth=2",
      "PenColor=0",
      "",
      "[Ch3]",
      "Name=Roll",
      "Producer=Tool.DEV.APS544",
      "ChShift=1.137",
      "Unit=deg",
      "Offset=0",
      "DataType=short",
      "CalA=0.1",
      "CalB=0",
      "NumberFormat=%7.1f",
      "DisplayEnable=no",
      "",
      "[Ch4]",
      "Name=MRoll",
      "Producer=Tool.DEV.APS544",
      "ChShift=1.137",
      "Unit=deg",
      "Offset=2",
      "DataType=short",
      "CalA=0.1",
      "CalB=0",
      "NumberFormat=%7.1f",
      "DisplayEnable=no",
      "",
      "[Ch5]",
      "Name=Tilt",
      "Producer=Tool.DEV.APS544",
      "ChShift=1.137",
      "Unit=deg",
      "Offset=4",
      "DataType=short",
      "CalA=0.1",
      "CalB=0",
      "NumberFormat=%7.1f",
      "DisplayEnable=yes",
      "Low=0",
      "High=15",
      "NbDecade=1",
      "Mode=Linear",
      "ReverseScale=no",
      "GridEnable=no",
      "Grid=2.5",
      "Left=40",
      "Right=60",
      "PenStyle=solid",
      "PenWidth=2",
      "PenColor=ff0000",
      "",
      "[Ch6]",
      "Name=MagField",
      "Producer=Tool.DEV.APS544",
      "ChShift=1.137",
      "Unit=uT",
      "Offset=6",
      "DataType=short",
      "CalA=0.01",
      "CalB=0",
      "NumberFormat=%7.2f",
      "DisplayEnable=no",
      "",
      "[Ch7]",
      "Name=Azimut",
      "Producer=Tool.DEV.APS544",
      "ChShift=1.137",
      "Unit=deg",
      "Offset=8",
      "DataType=short",
      "CalA=0.1",
      "CalB=0",
      "NumberFormat=%7.1f",
      "DisplayEnable=yes",
      "Low=0",
      "High=360",
      "NbDecade=1",
      "Mode=Linear",
      "ReverseScale=no",
      "GridEnable=yes",
      "Grid=45",
      "Left=40",
      "Right=60",
      "PenStyle=solid",
      "PenWidth=2",
      "PenColor=ff",
      "",
      "[Ch8]",
      "Name=Grav",
      "Producer=Tool.DEV.APS544",
      "ChShift=1.137",
      "Unit=g",
      "Offset=10",
      "DataType=short",
      "CalA=0.0001",
      "CalB=0",
      "NumberFormat=%7.4f",
      "DisplayEnable=no",
      "",
      "[Ch9]",
      "Name=TDev",
      "Producer=Tool.DEV.APS544",
      "ChShift=1.137",
      "Unit='C",
      "Offset=12",
      "DataType=short",
      "CalA=0.01",
      "CalB=0",
      "NumberFormat=%7.1f",
      "DisplayEnable=no",
      "Low=0",
      "High=70",
      "NbDecade=1",
      "Mode=Linear",
      "ReverseScale=no",
      "GridEnable=no",
      "Grid=0",
      "Left=60",
      "Right=80",
      "PenStyle=solid",
      "PenWidth=3",
      "PenColor=ff0000",
      "",
      "[Ch10]",
      "Name=Voltage",
      "Producer=Tool.DEV.APS544",
      "ChShift=1.137",
      "Unit=V",
      "Offset=14",
      "DataType=short",
      "CalA=0.0001",
      "CalB=0",
      "NumberFormat=%7.4f",
      "DisplayEnable=no",
      "",
      "[Ch11]",
      "Name=MX",
      "Producer=Tool.DEV.APS544",
      "ChShift=0.965",
      "Unit=uT",
      "Offset=16",
      "DataType=short",
      "CalA=0.01",
      "CalB=0",
      "NumberFormat=%7.2f",
      "DisplayEnable=no",
      "DisplayedName=MX",
      "Low=0",
      "High=1",
      "NbDecade=1",
      "Mode=Linear",
      "ReverseScale=no",
      "GridEnable=no",
      "Grid=0",
      "Left=80",
      "Right=100",
      "PenStyle=solid",
      "PenWidth=1",
      "PenColor=ff",
      "",
      "[Ch12]",
      "Name=AX",
      "Producer=Tool.DEV.APS544",
      "ChShift=0.965",
      "Unit=g",
      "Offset=18",
      "DataType=short",
      "CalA=0.0001",
      "CalB=0",
      "NumberFormat=%7.4f",
      "DisplayEnable=no",
      "DisplayedName=AX",
      "Low=0",
      "High=1",
      "NbDecade=1",
      "Mode=Linear",
      "ReverseScale=no",
      "GridEnable=no",
      "Grid=0",
      "Left=80",
      "Right=100",
      "PenStyle=solid",
      "PenWidth=1",
      "PenColor=ff0000",
      "",
      "[Ch13]",
      "Name=MY",
      "Producer=Tool.DEV.APS544",
      "ChShift=0.965",
      "Unit=uT",
      "Offset=20",
      "DataType=short",
      "CalA=0.01",
      "CalB=0",
      "NumberFormat=%7.2f",
      "DisplayEnable=no",
      "DisplayedName=MY",
      "Low=0",
      "High=1",
      "NbDecade=1",
      "Mode=Linear",
      "ReverseScale=no",
      "GridEnable=no",
      "Grid=0",
      "Left=80",
      "Right=100",
      "PenStyle=solid",
      "PenWidth=1",
      "PenColor=80ff",
      "",
      "[Ch14]",
      "Name=AY",
      "Producer=Tool.DEV.APS544",
      "ChShift=0.965",
      "Unit=g",
      "Offset=22",
      "DataType=short",
      "CalA=0.0001",
      "CalB=0",
      "NumberFormat=%7.4f",
      "DisplayEnable=no",
      "DisplayedName=AY",
      "Low=0",
      "High=1",
      "NbDecade=1",
      "Mode=Linear",
      "ReverseScale=no",
      "GridEnable=no",
      "Grid=0",
      "Left=80",
      "Right=100",
      "PenStyle=solid",
      "PenWidth=1",
      "PenColor=ff8080",
      "",
      "[Ch15]",
      "Name=MZ",
      "Producer=Tool.DEV.APS544",
      "ChShift=0.965",
      "Unit=uT",
      "Offset=24",
      "DataType=short",
      "CalA=0.01",
      "CalB=0",
      "NumberFormat=%7.2f",
      "DisplayEnable=no",
      "DisplayedName=MZ",
      "Low=0",
      "High=1",
      "NbDecade=1",
      "Mode=Linear",
      "ReverseScale=no",
      "GridEnable=no",
      "Grid=0",
      "Left=80",
      "Right=100",
      "PenStyle=solid",
      "PenWidth=1",
      "PenColor=ff00ff",
      "",
      "[Ch16]",
      "Name=AZ",
      "Producer=Tool.DEV.APS544",
      "ChShift=0.965",
      "Unit=g",
      "Offset=26",
      "DataType=short",
      "CalA=0.0001",
      "CalB=0",
      "NumberFormat=%7.4f",
      "DisplayEnable=no",
      "DisplayedName=AZ",
      "Low=0",
      "High=1",
      "NbDecade=1",
      "Mode=Linear",
      "ReverseScale=no",
      "GridEnable=no",
      "Grid=0",
      "Left=80",
      "Right=100",
      "PenStyle=solid",
      "PenWidth=1",
      "PenColor=ffff00",
      "",
      "; FTC channels ------------------------",
      "",
      "[Ch17]",
      "Name=Time",
      "Producer=Tool.FTC.SYSTEMSTATUS",
      "Unit=sec",
      "ChShift=0",
      "DataType=DWord",
      "Offset=0",
      "CalA=0.001",
      "CalB=0",
      "CalibrationEnable=no",
      "NumberFormat=%8.3f",
      "DisplayEnable=no",
      "",
      "[Ch18]",
      "Name=TCPU",
      "Producer=Tool.FTC.SYSTEMSTATUS",
      "Unit='C",
      "ChShift=0.063",
      "DataType=Word",
      "Offset=4",
      "CalA=0.217226",
      "CalB=-61.11",
      "CalibrationEnable=no",
      "NumberFormat=%5.1f",
      "DisplayEnable=no",
      "",
      "[Ch19]",
      "Name=Vinj",
      "Producer=Tool.FTC.FTC",
      "Unit=V",
      "ChShift=0.0642",
      "DataType=long",
      "Offset=0",
      "CalA=1.16767e-006",
      "CalB=-0.0508554",
      "CalibrationEnable=no",
      "NumberFormat=%8.3f",
      "DisplayEnable=no",
      "DisplayedName=Vinj",
      "Low=0",
      "High=15",
      "NbDecade=1",
      "Mode=Linear",
      "ReverseScale=no",
      "GridEnable=no",
      "Grid=0",
      "Left=0",
      "Right=30",
      "PenStyle=solid",
      "PenWidth=1",
      "PenColor=ff",
      "QCLow=0",
      "QCHigh=0",
      "QCLowRangeColor=2",
      "QCMedRangeColor=1",
      "QCHighRangeColor=2",
      "QCLowRangeText=Invalid",
      "QCMedRangeText=Valid",
      "QCHighRangeText=Invalid",
      "QCLowRangeBeep=no",
      "QCMedRangeBeep=no",
      "QCHighRangeBeep=no",
      "Filter=1",
      "Reference1=9.204",
      "Reference2=0",
      "CalDate=30/06/14 15:39",
      "",
      "[Ch20]",
      "Name=Iinj",
      "Producer=Tool.FTC.FTC",
      "Unit=mA",
      "ChShift=0.0642",
      "DataType=long",
      "Offset=4",
      "CalA=7.56269e-006",
      "CalB=-0.00415192",
      "CalibrationEnable=no",
      "NumberFormat=%8.1f",
      "DisplayEnable=no",
      "DisplayedName=Iinj",
      "Low=0",
      "High=100",
      "NbDecade=1",
      "Mode=Linear",
      "ReverseScale=no",
      "GridEnable=yes",
      "Grid=10",
      "Left=0",
      "Right=30",
      "PenStyle=solid",
      "PenWidth=1",
      "PenColor=80ff",
      "QCLow=0",
      "QCHigh=0",
      "QCLowRangeColor=2",
      "QCMedRangeColor=1",
      "QCHighRangeColor=2",
      "QCLowRangeText=Invalid",
      "QCMedRangeText=Valid",
      "QCHighRangeText=Invalid",
      "QCLowRangeBeep=no",
      "QCMedRangeBeep=no",
      "QCHighRangeBeep=no",
      "Filter=1",
      "Reference1=89.81",
      "Reference2=0",
      "CalDate=30/06/14 15:38",
      "",
      "[Ch21]",
      "Name=DV1",
      "Producer=Tool.FTC.FTC",
      "Unit=V",
      "ChShift=0.0642",
      "DataType=long",
      "Offset=16",
      "CalA=5.43396e-007",
      "CalB=-0.00026083",
      "CalibrationEnable=no",
      "NumberFormat=%8.3f",
      "DisplayEnable=no",
      "DisplayedName=DV1",
      "Low=0",
      "High=1",
      "NbDecade=1",
      "Mode=Linear",
      "ReverseScale=no",
      "GridEnable=no",
      "Grid=0",
      "Left=0",
      "Right=30",
      "PenStyle=solid",
      "PenWidth=1",
      "PenColor=8000",
      "QCLow=0",
      "QCHigh=0",
      "QCLowRangeColor=2",
      "QCMedRangeColor=1",
      "QCHighRangeColor=2",
      "QCLowRangeText=Invalid",
      "QCMedRangeText=Valid",
      "QCHighRangeText=Invalid",
      "QCLowRangeBeep=no",
      "QCMedRangeBeep=no",
      "QCHighRangeBeep=no",
      "Filter=1",
      "Reference1=3.058",
      "Reference2=0",
      "CalDate=30/06/14 15:41",
      "",
      "[Ch22]",
      "Name=DV2",
      "Producer=Tool.FTC.FTC",
      "Unit=V",
      "ChShift=0.0642",
      "DataType=long",
      "Offset=8",
      "CalA=5.51344e-007",
      "CalB=-0.000272364",
      "CalibrationEnable=no",
      "NumberFormat=%8.3f",
      "DisplayEnable=no",
      "DisplayedName=DV2",
      "Low=0",
      "High=1",
      "NbDecade=1",
      "Mode=Linear",
      "ReverseScale=no",
      "GridEnable=no",
      "Grid=0",
      "Left=0",
      "Right=30",
      "PenStyle=solid",
      "PenWidth=1",
      "PenColor=ff0000",
      "QCLow=0",
      "QCHigh=0",
      "QCLowRangeColor=2",
      "QCMedRangeColor=1",
      "QCHighRangeColor=2",
      "QCLowRangeText=Invalid",
      "QCMedRangeText=Valid",
      "QCHighRangeText=Invalid",
      "QCLowRangeBeep=no",
      "QCMedRangeBeep=no",
      "QCHighRangeBeep=no",
      "Filter=1",
      "Reference1=3.082",
      "Reference2=0",
      "CalDate=30/06/14 15:42",
      "",
      "[Ch23]",
      "Name=Temp",
      "Producer=Tool.FTC.FTC",
      "Unit='C",
      "ChShift=0",
      "ChShift=0",
      "DataType=long",
      "Offset=12",
      "CalA=0.00392394",
      "CalB=-277.75",
      "Reference1=7.2",
      "Reference2=78.1",
      "CalDate=01/07/14 09:36",
      "CalibrationEnable=no",
      "NumberFormat=%8.2f",
      "DisplayEnable=yes",
      "DisplayedName=Temp",
      "Low=10",
      "High=20",
      "NbDecade=1",
      "Mode=Linear",
      "ReverseScale=no",
      "GridEnable=yes",
      "Grid=1",
      "Left=35",
      "Right=67.5",
      "PenStyle=solid",
      "PenWidth=2",
      "PenColor=ff",
      "QCLow=0",
      "QCHigh=0",
      "QCLowRangeColor=2",
      "QCMedRangeColor=1",
      "QCHighRangeColor=2",
      "QCLowRangeText=Invalid",
      "QCMedRangeText=Valid",
      "QCHighRangeText=Invalid",
      "QCLowRangeBeep=no",
      "QCMedRangeBeep=no",
      "QCHighRangeBeep=no",
      "Filter=1",
      "",
      "[Ch24]",
      "Name=Cond",
      "Producer=MChProc",
      "Formula=(148.526*{ch20})/({ch21}+{ch22})",
      "Unit=uS/cm",
      "CalibrationEnable=yes",
      "ChShift=0.0642",
      "CalA=1.15821",
      "CalB=4.59802",
      "Reference1=5055",
      "Reference2=112",
      "CalDate=01/07/14 08:40",
      "NumberFormat=%8.1f",
      "DisplayEnable=yes",
      "DisplayedName=Cond",
      "Low=0",
      "High=10000",
      "NbDecade=1",
      "Mode=Linear",
      "ReverseScale=no",
      "GridEnable=no",
      "Grid=0",
      "Left=0",
      "Right=30",
      "PenStyle=solid",
      "PenWidth=1",
      "PenColor=ff8000",
      "QCLow=0",
      "QCHigh=0",
      "QCLowRangeColor=2",
      "QCMedRangeColor=1",
      "QCHighRangeColor=2",
      "QCLowRangeText=Invalid",
      "QCMedRangeText=Valid",
      "QCHighRangeText=Invalid",
      "QCLowRangeBeep=no",
      "QCMedRangeBeep=no",
      "QCHighRangeBeep=no",
      "Filter=1",
      "",
      "[Ch25]",
      "Name=Cond25C",
      "Producer=MChProc",
      "Formula=46.5*{ch24}/({ch23}+21.5)",
      "Unit=uS/cm",
      "ChShift=0.0642",
      "CalA=1",
      "CalB=0",
      "CalibrationEnable=no",
      "NumberFormat=%8.1f",
      "DisplayEnable=no",
      "DisplayedName=Cond25C",
      "Low=0",
      "High=10000",
      "NbDecade=3",
      "Mode=Logarythmic",
      "ReverseScale=no",
      "GridEnable=yes",
      "Grid=0",
      "Left=67.5",
      "Right=100",
      "PenStyle=solid",
      "PenWidth=2",
      "PenColor=ff8000",
      "QCLow=0",
      "QCHigh=0",
      "QCLowRangeColor=2",
      "QCMedRangeColor=1",
      "QCHighRangeColor=2",
      "QCLowRangeText=Invalid",
      "QCMedRangeText=Valid",
      "QCHighRangeText=Invalid",
      "QCLowRangeBeep=no",
      "QCMedRangeBeep=no",
      "QCHighRangeBeep=no",
      "Filter=1",
      "",
      "; GO7-40 channels calibrations ------------------------",
      "",
      "; DEV channels calibrations ------------------------",
      "",
      "; FTC channels calibrations ------------------------",
      "",
      "[Process]",
      "Process1 = Processor,Start,mch\\MChProc.exe",
      "Process2 = Browser,Start,MCh\\MChNum.exe",
      "Process3 = Browser,Start,MCh\\MChCurve.exe",
      "",
      "[MChProc]",
      "Minimized=no",
      "XOffset=797",
      "YOffset=363",
      "XSize=302",
      "YSize=135",
      "",
      "[MChNum]",
      "NumDisplay1=Ch5",
      "NbNumDisplay=6",
      "NumDisplay2=Ch7",
      "NumDisplay3=Ch8",
      "NumDisplay4=Ch6",
      "NumDisplay5=Ch23",
      "NumDisplay6=Ch24",
      "XOffset=584",
      "YOffset=173",
      "XSize=304",
      "YSize=356",
      "Minimized=no",
      "",
      "[MChCurve]",
      "DepthScale=100",
      "GridSpacing=0.5",
      "XOffset=584",
      "ForceTimeMode=no",
      "YSize=728",
      "DepthColLeft=0.3",
      "XSize=776",
      "DepthSpacing=5",
      "DepthColRight=0.35",
      "Minimized=no",
      "YOffset=0",
      "Grid=yes",
      "",
      "[WellCAD]",
      "",
      "; END OF MERGED SUBS SECTIONS ////////////////////////////////////////",
      "",
      "Template1=",
      ""
    ]
  }
}
```

MIT license.